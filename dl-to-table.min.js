(function(window, document, undefined) {var hasClass = function(el, cn) {return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1; }; var addClass = function(el, cn) {if (!hasClass(el, cn)) {el.className = (el.className === '') ? cn : el.className + ' ' + cn; } }; var tabularize = function() {var sets = document.querySelectorAll('.dl-to-table'); for (var i=0; i<sets.length; i++) {var set = sets[i]; var list_array = set.querySelectorAll('ul>li>dl'); var table = document.createElement('table'); var table_class = set.getAttribute('data-table-class'); if (table_class) {addClass(table, table_class); } var heading_tr = document.createElement('tr'); var dt_in_one_dl = list_array[0].querySelectorAll('dt'); for (var j=0; j<dt_in_one_dl.length; j++) {var heading = document.createElement('th'); var heading_text = document.createTextNode(dt_in_one_dl[j].innerText); heading.appendChild(heading_text); heading_tr.appendChild(heading); } table.appendChild(heading_tr); for (j=0; j<list_array.length; j++) {var row = list_array[j]; var tr = document.createElement('tr'); var dds = row.querySelectorAll('dd'); for (k=0; k<dds.length; k++) {var data = document.createElement('td'); var data_text = document.createTextNode(dds[k].innerText); data.appendChild(data_text); tr.appendChild(data); } table.appendChild(tr); } var ul = set.querySelector('ul'); addClass(ul, 'dl-to-table__hide-for-desktop'); addClass(table, 'dl-to-table__hide-for-mobile'); set.appendChild(table); } }; if (window.addEventListener) {window.addEventListener('DOMContentLoaded', tabularize, false); } })(window, window.document);